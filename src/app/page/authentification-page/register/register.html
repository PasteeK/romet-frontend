<main role="main" class="relative min-h-svh">
  <!-- Background image et overlay -->
  <img
    src="assets/images/ecran_principal.png"
    alt=""
    aria-hidden="true"
    class="pointer-events-none select-none absolute inset-0 -z-10 h-full w-full object-cover"
  />
  <div class="absolute inset-0 -z-10 bg-black/40"></div>

  <!-- Centered content -->
  <section class="flex min-h-svh items-center justify-center px-4 py-8">
    <div class="w-full max-w-md">
      <h2 class="text-center font-romet text-white text-2xl sm:text-3xl md:text-4xl mb-6 drop-shadow">
        Creer un compte
      </h2>

      <form
        class="w-full bg-white/90 backdrop-blur p-6 sm:p-8 rounded-2xl shadow-xl"
        (ngSubmit)="register()"
      >
        <!-- Username -->
        <div class="mb-4">
          <label for="username" class="block mb-1 text-gray-700 font-medium">
            Nom d'utilisateur
          </label>
          <input
            id="username"
            class="w-full px-4 py-2 bg-gray-100 rounded-xl focus:outline-none focus:ring-2 focus:ring-bordeaux"
            type="text"
            [(ngModel)]="username"
            name="username"
            autocomplete="username"
            required
          />
        </div>

        <!-- Email -->
        <div class="mb-4">
          <label for="email" class="block mb-1 text-gray-700 font-medium">
            Email
          </label>
          <input
            id="email"
            class="w-full px-4 py-2 bg-gray-100 rounded-xl focus:outline-none focus:ring-2 focus:ring-bordeaux"
            type="email"
            [(ngModel)]="email"
            name="email"
            autocomplete="email"
            required
          />
        </div>

        <!-- Password -->
        <div class="mb-4">
          <label for="password" class="block mb-1 text-gray-700 font-medium">
            Mot de passe
          </label>
          <input
            id="password"
            class="w-full px-4 py-2 bg-gray-100 rounded-xl focus:outline-none focus:ring-2 focus:ring-bordeaux"
            type="password"
            [(ngModel)]="password"
            name="password"
            autocomplete="new-password"
            required
          />
        </div>

        <!-- Confirm password -->
        <div class="mb-4">
          <label for="confirmPassword" class="block mb-1 text-gray-700 font-medium">
            Confirmer le mot de passe
          </label>
          <input
            id="confirmPassword"
            class="w-full px-4 py-2 bg-gray-100 rounded-xl focus:outline-none focus:ring-2 focus:ring-bordeaux"
            type="password"
            [(ngModel)]="confirmPassword"
            name="confirmPassword"
            autocomplete="new-password"
            required
          />
        </div>

        <!-- Success -->
        @if (successMessage()) {
          <div class="mb-4 p-3 rounded-lg bg-green-100 text-green-800 border border-green-300">
            {{ successMessage() }}
          </div>
        }

        <!-- Gestion Error -->
        @if (errorMessage()) {
          <div class="mb-4 p-3 rounded-lg bg-red-100 text-red-800 border border-red-300">
            {{ errorMessage() }}
          </div>
        }

        <!-- Buttons -->
        <button
          class="w-full bg-buttonBack border-4 border-buttonBorder text-white font-semibold py-2 rounded-xl hover:bg-bordeaux transition duration-200 hover:cursor-pointer"
          type="submit"
        >
          S'inscrire
        </button>

        <button
          class="mt-5 w-full text-center underline underline-offset-4 hover:no-underline hover:cursor-pointer"
          type="button"
          routerLink="/login"
        >
          Deja un compte ?
        </button>
      </form>
    </div>
  </section>
</main>
